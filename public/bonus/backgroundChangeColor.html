<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS Color Changer</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Global Reset and Typography */
      :root {
        --primary-text: #2c3e50;
        --secondary-text: #ecf0f1;
        --shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        transition: background-color 0.5s ease; /* Smooth transition for color change */
        background-color: #ffffff; /* Initial background color */
      }

      /* Container for Centering */
      .container {
        text-align: center;
        padding: 30px;
        background: rgba(255, 255, 255, 0.8); /* Semi-transparent white card */
        border-radius: 15px;
        box-shadow: var(--shadow);
        max-width: 90%; /* Responsive max width */
      }

      /* Heading and Color Code Display */
      h1 {
        font-size: 2rem;
        color: var(--primary-text);
        margin-bottom: 25px;
      }

      #color-code {
        font-weight: 700;
        color: #e74c3c; /* Distinct color for the code */
        /* Add a subtle animation/glow when it changes */
        transition: color 0.5s ease;
      }

      /* The Button */
      .btn {
        padding: 12px 30px;
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--secondary-text);
        background-color: var(--primary-text);
        border: none;
        border-radius: 50px;
        cursor: pointer;
        outline: none;
        box-shadow: var(--shadow);
        transition: all 0.3s ease;
      }

      .btn:hover {
        background-color: #34495e;
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
      }

      .btn:active {
        transform: translateY(0);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      /* --- Responsiveness (Mobile Devices) --- */
      @media (max-width: 600px) {
        .container {
          padding: 20px;
        }

        h1 {
          font-size: 1.5rem; /* Smaller font on small screens */
          margin-bottom: 20px;
        }

        .btn {
          padding: 10px 25px;
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Current Color: <span id="color-code">#FFFFFF</span></h1>

      <button id="color-btn" class="btn">Change Background</button>
    </div>

    <script>
      /*
       * ----------------------------------------------------
       * Color Changer Logic
       * ----------------------------------------------------
       */

      const colorCodeElement = document.getElementById("color-code");
      const colorButton = document.getElementById("color-btn");

      /**
       * Generates a random hexadecimal color code (e.g., #a3f4c1).
       * @returns {string} The random hex color string.
       */
      function generateRandomHexColor() {
        // Generate a random number between 0 and 16777215 (FFFFFF in decimal)
        const randomColor = Math.floor(Math.random() * 16777215);

        // Convert the number to a 6-digit hexadecimal string
        let hexColor = randomColor.toString(16);

        // Pad the start with zeros if needed (ensures it's always 6 digits)
        // Example: 'ff' becomes '0000ff'
        while (hexColor.length < 6) {
          hexColor = "0" + hexColor;
        }

        return "#" + hexColor;
      }

      /**
       * Updates the UI with the new color.
       * @param {string} newColor - The hex color code.
       */
      function updateColor(newColor) {
        // 1. Change the background color of the <body>
        document.body.style.backgroundColor = newColor;

        // 2. Update the color code text
        colorCodeElement.textContent = newColor;

        // Optional: Change the color of the text to ensure readability against the new background
        // This simple logic assumes dark colors need light text and vice-versa.
        // We'll use a specific threshold based on the brightness of the hex code.
        const r = parseInt(newColor.substring(1, 3), 16);
        const g = parseInt(newColor.substring(3, 5), 16);
        const b = parseInt(newColor.substring(5, 7), 16);

        // Calculate Luminance (a simple method)
        const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;

        if (luminance > 0.5) {
          // Light background, use dark text for contrast
          document.querySelector(".container").style.color =
            "var(--primary-text)";
        } else {
          // Dark background, use light text for contrast
          document.querySelector(".container").style.color =
            "var(--secondary-text)";
        }
      }

      // Event Listener to handle button clicks
      colorButton.addEventListener("click", () => {
        const newColor = generateRandomHexColor();
        updateColor(newColor);
      });

      // Set an initial random color when the page loads
      document.addEventListener("DOMContentLoaded", () => {
        const initialColor = generateRandomHexColor();
        updateColor(initialColor);
      });
    </script>
  </body>
</html>
